<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <id>http://blog.inferis.org/</id>
  <title>Inferical Writings</title>
  <updated>2015-04-14T07:01:41Z</updated>
  <link rel="alternate" href="http://blog.inferis.org/"/>
  <link rel="self" href="http://blog.inferis.org/feed.atom"/>
  <author>
    <name>Tom Adriaenssen</name>
    <uri>http://inferis.org</uri>
  </author>
  <entry>
    <id>tag:blog.inferis.org,2015-04-14:/blog/2015/04/14/early-bird-catches-the-worm/</id>
    <title type="html">The early bird catches the worm</title>
    <published>2015-04-14T07:01:41Z</published>
    <updated>2015-04-14T07:01:41Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2015/04/14/early-bird-catches-the-worm/"/>
    <content type="html">

&lt;p&gt;I'm starting to become an early-morning person.&lt;/p&gt;

&lt;p&gt;This is a big change for me. I used to be a "late night" person. My day used to consist of 2 parts: the day(job) part and the night part. Going home after work (or whatever) meant there were at least a few hours left in the day to be (even more) productive. And so I spent countless nights behind my computer's screen (because "being productive" equals "coding", that &lt;em&gt;is&lt;/em&gt; imperative), coding away into the wee hours of night. The morning after would prove difficult but nothing that coffee couldn't solve. And the weekend usually gave good opportunities for sleeping in to catch up on some sleep. And so I was no morning person at all, meaning that "get up at 8am" was usually a very difficult task. Also, I had no fixed schedule in my life back then. I woke up when needed, I went to sleep when I felt like it, I rarely had breakfast/lunch/dinner at relatively fixed times.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;But then you have kids, and they have to go to school eventually, and your life starts to fall into a more regular schedule. Not that that changed my at-night habits a lot. Although it did mean that there was no slacking possible in the morning (getting 4 kids to school can be, eh, daunting), I continued to try to be productive at night. But I had to admit that those long hours would take their toll eventually, and I wasn't as productive as I used to be. I started to spend nights before my computer, doing nothing more than &lt;a href="http://www.urbandictionary.com/define.php?term=Wilfing"&gt;wilfing&lt;/a&gt; around, not doing anything useful at all. Not good, and a waste of time.&lt;/p&gt;

&lt;h2&gt;Switch&lt;/h2&gt;

&lt;p&gt;Last summer I switched to a completely different schedule: I was tech lead for a large iOS project at the time, and my job consistent of both guiding the dev team (7 devs) and doing some "high level" coding. I found that that first part would be taking up all of my time, and that finding time for the coding part was becoming harder. Additionally, I was so drained after coming home from work that I rarely got to doing some more work. And so I thought: let's try this morning thing.&lt;/p&gt;

&lt;p&gt;And so I started to get up at 5:30 in the morning so that I could be at work at around 7am. That would give me 2 hours of coding/preparation time before the rest of the team would come in at around 9am. It was hard at first. I wasn't used to these hours at all, and my body protested.&lt;/p&gt;

&lt;p&gt;But I got used to it. The hardest part was going to bed early enough in order to be able to get up early enough. Being used to not going to bed before midnight, early on in the process this required some willpower to get to bed at around 10pm. But once I got into &lt;em&gt;the early rhythm&lt;/em&gt;, this became easier. I simply started shutting down at 10pm, so going to bed then felt more "natural".&lt;/p&gt;

&lt;h2&gt;Helping factors&lt;/h2&gt;

&lt;p&gt;A big factor of this early rising thing is limiting coffee/caffeine intake. I used to drink coffee all day through, which had a clear effect on my sleeping pattern. I tried a few times going off coffee completely, which worked initially (OHAI COLD TURKEY) but I always eventually started drinking coffee again (it's just too good). But I found that limiting intake in the early hours of the day works wonderfully well. It helps you be alert in the morning -- that first coffee really helps -- and because I don't drink any caffeinated beverages after midday the effects are gone by the time I get to bed. So I get the best of both worlds. Moderation, it's a good thing.&lt;/p&gt;

&lt;p&gt;Another factor in this story is my bike: getting to/from work, I have to bike to the nearest train station, which is about 20/25 minutes away. These bike rides are invigourating: they provide a much needed rest from working all day, giving your body some exercise (a welcome change from sitting all day) and your mind some relaxation (a welcome change from thinking all day). The net effect is that you're well awake once you're at work, even when you start off with a sleepy head. You get the same effect when coming back from work: you feel more relaxed once you're home. It's easier to put work behind you if you feel like it.&lt;/p&gt;

&lt;p&gt;And so I spent the summer working early mornings. And sometimes late nights. My days were usually longer than the usual 8 hours. But that was okay: the project was exciting to work on, and there was a lot of work to do too. We met our deadlines, and we delivered quality software. I felt better with my regained time, even if that meant that I wasn't usually worth a lot at those evenings/nights.&lt;/p&gt;

&lt;h2&gt;One year later&lt;/h2&gt;

&lt;p&gt;So this system worked wonderfully well last summer. The long days help a lot getting up - early natural daylight is awesome! And so when winter came keeping this schedule started to become harder. Also, the project came to an end, and my day-to-day planning changed. The net result was that I was back to my more regular schedule. Get up to prepare kids for school, get into a more regular "9 to 5" schedule. Also, biking to work in the biting cold at 6:15, I can tell you that's not the most motivating factor to get up. I don't mind rain much -- you can dress for it -- but cold + rain is a bad combination. ðŸ˜°&lt;/p&gt;

&lt;p&gt;Another thing to consider were school days. These were not really an issue in the summer due to the holidays, but once the kids had to go back to school it meant that I had to get up half an hour earlier, because part of the "get up early" deal with my wife is that I had to take care of preparing their schoolbags (lunch, ...), and her part was breakfast and getting them to school. And so in winter, I started not to bother getting up early and doing joint mornings with my wife, bringing the kids to school together and biking to the station from school (a lot closer).&lt;/p&gt;

&lt;h2&gt;Back to early&lt;/h2&gt;

&lt;p&gt;But I kinda missed those early mornings. And so with the days getting longer now, and starting project in Brussels leading a team of devs, I decide to try to get back into the rhythm. I'm not there yet: some days are harder to get up than others, and because work is not as pressing as it is last year and the team is smaller there's no real need to actually having to get up early. But I enjoy the wee hours. So much nicer to get to work, so much quieter early hours. And when I want I'm home at a reasonable time to spend some time with my kids.&lt;/p&gt;

&lt;p&gt;Summer's only beginning, and I'm looking forward to some early mornings. Not all of them, depending on schedule and needs. But it's good to be up early and feel productive.  &lt;/p&gt;

&lt;p&gt;Overall, I'd say I feel better as a morning person than as a night person. And that's a strange thing for me to claim. ðŸ˜•&lt;/p&gt;

&lt;h2&gt;Future&lt;/h2&gt;

&lt;p&gt;Finally, and here's the naive me speaking, I'm hoping to continue this once I move to California. The better weather there will probably have a benefical effect on being able to get up early (although winter days will be as short as in Belgium). I also have the crazy idea of biking to work there (no idea if that it's actually feasible, though), to keep the "wake up exercise" effect.&lt;/p&gt;

&lt;p&gt;But we'll see about that when we get there. Â¯\_(ãƒ„)_/Â¯  &lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2015-03-25:/blog/2015/03/25/swiftyas/</id>
    <title type="html">SwiftyAs</title>
    <published>2015-03-25T05:53:38Z</published>
    <updated>2015-03-25T05:53:38Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2015/03/25/swiftyas/"/>
    <content type="html">

&lt;p&gt;Let me introduce: &lt;a href="https://github.com/inferis/SwiftyAs"&gt;SwiftyAs&lt;/a&gt;. It's a tiny little library to provide sort of the same functionality as &lt;code&gt;as?&lt;/code&gt; from Swift in Objective-C. Let me explain...&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2&gt;The gist&lt;/h2&gt;

&lt;p&gt;In Swift, you can use the &lt;code&gt;as?&lt;/code&gt; operator to safely cast a variable to another type (albeit Optional). If the actual type at runtime doesn't match, Swift turns it into a &lt;code&gt;nil&lt;/code&gt;, and otherwise you just get the variable as an optional. Pretty handy:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-swift highlight"&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="nv"&gt;source&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;NSDictionary&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="nv"&gt;array&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt;&lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="kt"&gt;NSArray&lt;/span&gt;
&lt;span class="c1"&gt;// array = nil&lt;/span&gt;
&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="nv"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt;&lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="kt"&gt;NSDictionary&lt;/span&gt;
&lt;span class="c1"&gt;// dict = source&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now with &lt;strong&gt;SwiftyAs&lt;/strong&gt; you can do kind of the same in Objective-C:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-objc highlight"&gt;&lt;span class="n"&gt;NSObject&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;source&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NSDictionary&lt;/span&gt; &lt;span class="nf"&gt;new&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;

&lt;span class="n"&gt;NSArray&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;array&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NSArray&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="c1"&gt;// array = nil
&lt;/span&gt;&lt;span class="n"&gt;NSDictionary&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;dict&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NSDictionary&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="n"&gt;dict&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;source&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There's nothing new under the sun here, and you can do exactly the same with an if statement and a &lt;code&gt;isKindOfClass:&lt;/code&gt; check:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-objc highlight"&gt;&lt;span class="n"&gt;NSObject&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;source&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NSDictionary&lt;/span&gt; &lt;span class="nf"&gt;new&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="n"&gt;NSArray&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;source&lt;/span&gt; &lt;span class="nf"&gt;isKindOfObject&lt;/span&gt;&lt;span class="p"&gt;:[&lt;/span&gt;&lt;span class="n"&gt;NSArray&lt;/span&gt; &lt;span class="nf"&gt;Class&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;array&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NSArray&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;source&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;but that's more cumbersome and I think the SwiftyAs way is a lot more readable.&lt;/p&gt;

&lt;h3&gt;Innards&lt;/h3&gt;

&lt;p&gt;So how does this work?&lt;/p&gt;

&lt;p&gt;SwiftyAs introduces a category on &lt;code&gt;NSObject&lt;/code&gt;, providing a readonly block property taking a &lt;code&gt;Class&lt;/code&gt; and returning an &lt;code&gt;id&lt;/code&gt;. The class represents the desired type.&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-objc highlight"&gt;&lt;span class="k"&gt;@property&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nonatomic&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;strong&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;readonly&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="n"&gt;as&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;Class&lt;/span&gt; &lt;span class="n"&gt;ofClass&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The implementation does nothing more than aforementioned &lt;code&gt;isKindOfClass:&lt;/code&gt; check, but in a block (since that is what the property represents):&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-objc highlight"&gt;&lt;span class="k"&gt;-&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;id&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="p"&gt;)(&lt;/span&gt;&lt;span class="n"&gt;__unsafe_unretained&lt;/span&gt; &lt;span class="n"&gt;Class&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="n"&gt;as&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;__weak&lt;/span&gt; &lt;span class="n"&gt;typeof&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;welf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;self&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Class&lt;/span&gt; &lt;span class="n"&gt;ofClass&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;welf&lt;/span&gt; &lt;span class="nf"&gt;isKindOfClass&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;ofClass&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;?&lt;/span&gt; &lt;span class="n"&gt;welf&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;nil&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We need to do some trickery with passing self as weak, because there's no assurance (or obligation) that the &lt;code&gt;as&lt;/code&gt; property block is going to used right away. You could take the block, store it somewhere else and call it later if you wanted. Although that's not the intended and common case use, we do have to cater for it.&lt;/p&gt;

&lt;p&gt;And so we reference self as weak inside the block, so that any lingering &lt;code&gt;as&lt;/code&gt; references won't cause the parent object to remain retained. And if the object's gone, we just return &lt;code&gt;nil&lt;/code&gt; anyway which is kinda the intended behavior.&lt;/p&gt;

&lt;h3&gt;Tiny but easy&lt;/h3&gt;

&lt;p&gt;So it's a really tiny library (if you even could call it that?). It's just category on NSObject providing the &lt;code&gt;as&lt;/code&gt; "keyword" in Objective-C. You can't use it on objects of type &lt;code&gt;id&lt;/code&gt; because that's how categories work in Objective-C, but hey, I can live with that.&lt;/p&gt;

&lt;p&gt;So there. Available as a CocoaPod, of course:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;pod 'SwiftyAs', '~&amp;gt; 1.0'
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Enjoy!&lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2015-03-19:/blog/2015/03/19/the-last-nsconference/</id>
    <title type="html">The Last NSConference</title>
    <published>2015-03-18T23:00:00Z</published>
    <updated>2015-03-18T23:00:00Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2015/03/19/the-last-nsconference/"/>
    <content type="html">

&lt;p&gt;The last &lt;a href="http://nsconference.com"&gt;NSConference&lt;/a&gt;. I'm happy to say I was there. I'm sad to see it go.&lt;/p&gt;

&lt;p&gt;I attended three editions of NSConf. The first one was in 2013: due to scheduling reasons, I couldn't attend WWDC and so I was on the lookout for a replacement. NSConf seemed to be it, and I bought a ticket. I had known about NSConf before (given I'm relatively new to the Cocoa community, having only started in 2011), but I never got around to going. But buying that ticket was one of the best decisions ever made.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2&gt;Friends &amp;amp; Community&lt;/h2&gt;

&lt;p&gt;Because I came back for seconds and now thirds. And by doing that, I made a lot of new friends. People I otherwise wouldn't have met. People who share similar values, people who do similar work. Each in their own way, all in familiar ways. And while all of us are introverts and hate to talk to strangers, NSConf did provide for a welcoming enough atmosphere to make meetups with other people happen.&lt;/p&gt;

&lt;p&gt;I mean, you spend the day at a table with other people, so it's bound to happen that you'll be talking to each other. You stand in the queue for lunch, and you can't but start a conversation with the people around you. You go for coffee and talk to the guy next to you who's also getting coffee &lt;em&gt;(I thought about writing "girl" here - diversity and all - but alas the chance for that is unfortunately still too small in our community)&lt;/em&gt;. But there's more life outside the conference venue too. You can have breakfast with people staying at your hotel, or go for a nice curry with a group of people you hardly know. And the bar nearby is a fertile breeding ground for new acquaintances and friendships. One caveat though: for all these things, I'm assuming that you know to tear your eyes away from that iPhone screen for a few minutes here and there.&lt;/p&gt;

&lt;p&gt;So the value of NSConference is not only the excellent talks that are given there, it's also the social aspect that's so important. The fact that the conference schedule is geared for social interaction makes it so interesting to attend: first you listen to a talk (talks which most of the time make you stop and think about the things said), and afterward you can reflect on that talk with your neighbors. Or not, and just show them that app your working on or that problem you're stuck with. Or tell them how hard it is combining a happy family life with a challenging job.&lt;/p&gt;

&lt;p&gt;This is also why I was intent to share the news of my new job at Apple over there. Taking the job was a hard decision to make, and by making the news public I could talk to people about it, which helped to put things into perspective (and thanks for the support, everyone).&lt;/p&gt;

&lt;p&gt;These are the reasons why I think that NSConference is a very valuable instrument in our community.&lt;/p&gt;

&lt;h2&gt;Gone, but not forgotten&lt;/h2&gt;

&lt;p&gt;But, it's also gone. &lt;em&gt;NSConference 7&lt;/em&gt; was the last NSConference.&lt;/p&gt;

&lt;p&gt;It's a pity to see it go, and I can see why &lt;a href="http://twitter.com/macdevnet"&gt;Scotty&lt;/a&gt; and his team are stopping the "franchise". It might have grown beyond its bounds, and it's probably grown beyond a safe enough feeling of control. Perhaps it's also time for a new format.&lt;/p&gt;

&lt;p&gt;I'm pretty confident that Scotty will come up with something new. Don't know where, don't know when, but it felt like it would happen eventually in one form or another.&lt;/p&gt;

&lt;p&gt;And so I hope there will be an "NSConferenceTNG", a conference which will be even more inclusive than this last edition. We need more non-white, non-male people at events like these (and, in a broader way, also in our industry). We need to reach people who are hard to reach, might even not be aware that there's a beautiful and warm community out there. It will not only allow us to make better software, it will also allow us to better ourselves. And last but not least, through our better software and better self, we'll be able make a better world for everybody. And while that might sound cheesy, I feel it's an applaudable goal.&lt;/p&gt;

&lt;p&gt;Thanks for the great time, my friends. Thank you Scotty and your team for the time you put into this. It has changed me and I'll never forget that.&lt;/p&gt;

&lt;p&gt;&lt;img class="center" src="http://c.inferis.org/image/472v1L3W4217/post-38521-wiserhood-slow-clap-gif-Imgur-7gXf.gif" title='"Cheers!"' alt='"Cheers!"'&gt;&lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2015-03-17:/blog/2015/03/17/new-horizons/</id>
    <title type="html">New Horizons</title>
    <published>2015-03-16T23:00:00Z</published>
    <updated>2015-03-16T23:00:00Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2015/03/17/new-horizons/"/>
    <content type="html">

&lt;p&gt;A tweet, 2 FaceTime interviews, a trip to Cupertino for 5 two-person interviews lasting a whole day (including lunch at the CaffÃ© Macs), a bucketload of mails and 2 handfuls of international phonecalls.&lt;/p&gt;

&lt;p&gt;That's what got me a job in the UIKit team at Apple.&lt;/p&gt;

&lt;p&gt;It's safe to say it's been a crazy ride so far, and it's about to get even better.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;This tweet by &lt;a href="http://twitter.com/olg"&gt;Olivier Gutknecht&lt;/a&gt; started it all:&lt;/p&gt;

&lt;div class="embed tweet"&gt;
&lt;blockquote class="twitter-tweet"&gt;
&lt;p&gt;Discovering great new APIs at WWDC is cool.
But you know what's -really- cool? Creating these APIs.

UIKit is hiring: &lt;a href="https://twitter.com/search?q=%24me&amp;amp;src=ctag"&gt;$me&lt;/a&gt; @ apple&lt;/p&gt;â€” Olivier Gutknecht (@olg) &lt;a href="https://twitter.com/olg/status/482759679877984256"&gt;June 28, 2014&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;
&lt;/div&gt;

&lt;h2&gt;And so it started...&lt;/h2&gt;

&lt;p&gt;5 days later I sent Olivier a mail with my resume. At the time I assumed I'd get stuck somewhere along the process. It would be no more than an interesting exercise in seeing how good I was deemed. I had heard the process had multiple steps, of which the last being onsite interviews in California. And so I would have been happy to get invited to Cupertino, get rejected in the last round and be done with it.&lt;/p&gt;

&lt;p&gt;It didn't quite turn out that way.&lt;br&gt;
It actually landed me a job on the other side of the world, in a company and team I'd love to work in.&lt;/p&gt;

&lt;p&gt;I'm not going to go into the details of the process. Other people have blogged about it, and my experience was largely the same. The FaceTime calls were mostly technical and not really easy (although I think now they really weren't that hard). And about the onsite interviews: I felt those were mostly for probing my personality (and a bit about my technical skills, of course). All in all, while it was a very tiring day, it was one of the most interesting experiences I've had. After that day, I knew I wanted to do this job. All in all, the whole interviewing process was very comfortable; I never had the feeling to be part of an "elite".&lt;/p&gt;

&lt;p&gt;Because "working on frameworks", it's a job I've always wanted to do. Even in my .Net days I wanted to work for Microsoft, creating APIs or making tools for developers. I've spent a few years for a client building an internal (.Net based) RAD framework, and I enjoyed doing that a lot. The last 18 months working for &lt;a href="http://icapps.com"&gt;iCapps&lt;/a&gt; as technical lead for the &lt;a href="https://www.bolero.be/nl/platformen/mobile"&gt;Bolero&lt;/a&gt; project enforced that even more as part of my job was building internal frameworks for the rest of the team. It was so much fun building generic stuff, clear enough for (junior) developers to use.&lt;/p&gt;

&lt;p&gt;And so when that tweet came, I decided to take the plunge. It was "now or never": I'll be turning 40 this summer, my kids are still young enough to move to the other side of the world (my eldest just turned 9). My experience gained after this wouldn't really matter after this point in time, so there was no point in waiting.&lt;/p&gt;

&lt;p&gt;So 258 days after that tweet, I came to a final agreement with Apple about working for them. That's a long time. The fact that there was no hurry due to the H1-B visa process didn't really help. On the other hand: there were a lot of decisions to make. Moving a family of 6 to the US is no easy feat for all parties involved.&lt;/p&gt;

&lt;h2&gt;Family&lt;/h2&gt;

&lt;p&gt;And speaking about family: the hard part about this decision was moving there... by myself. The further I got in the process, the more reluctant my wife became about moving us over there. So currently, the plan is that I'll be moving there by myself to start the job, with my family coming later (we're talking about at least a few months). I feel this is both a good and a bad thing. The job is going to take a lot of effort, moving there is going to ask a lot of my resources, and being there by myself will not burden my family directly, apart from me not being there. It does mean that they'll have to miss their husband/father for weeks at a time (and I will have to miss my wife and kids) but at least they'll still be in their own social network of family and friends. I've heard enough stories of similar career moves with the spouse burning out overseas due to a lack of social network, so I'm going to be pretty cautious about this. And so we're making arrangements to alleviate the issues arising from the fact that we'll be split up. Nevertheless, it remains a big gamble, but I'm confident that it'll work out. Hopefully, once my wife experiences how nice California is, she will change her mind, and there's plenty of time to work on that.&lt;/p&gt;

&lt;h2&gt;Yes or no?&lt;/h2&gt;

&lt;p&gt;Making the decision between this job and my family was the hardest part in this whole "ordeal". Is a job worth leaving your wife and kids behind on another continent? Is declining an exceptional chance in your career because of your family a viable option, knowing that you really want to do this job, and that you'll suffer from it when turning it down?&lt;/p&gt;

&lt;p&gt;So I thought about this &lt;em&gt;a lot&lt;/em&gt;. A lot of my waking time was spent thinking about what I should do. My mood was like a pendulum, going from "w00t THIS IS SO AWESOME!" to "OMG WTF AM I DOING?" all the time.&lt;/p&gt;

&lt;p&gt;In the end I went for the positive choice, in my opinion. I could say "no" and things would safely stay the same as they were. I could say "yes", causing a lot of change, but giving a lot of new chances in a future I have no idea how it will pan out. So I decided to take the gamble. It might be a mistake, it might be the start of wonderful things.&lt;/p&gt;

&lt;h2&gt;Go for it&lt;/h2&gt;

&lt;p&gt;And so I posted my signed offer back to Apple while being here in Leicester at NSConference (luckily, there's a Fedex dropoff point in the middle of the city). There's no way back now. I'm terribly excited to be working at Apple. I'm looking forward to doing wonderful things, to experience living and working in the United States, to learn, to grow.&lt;/p&gt;

&lt;h2&gt;Last hurdle: that H1-B&lt;/h2&gt;

&lt;p&gt;The last hurdle is the H1-B visa. My application is in the works, but there's no guarantee that I'll get accepted. There are so many applications for so few available visas, so we'll have to see how it goes. I know one thing: I'm going to be so pissed off if I don't get in.&lt;/p&gt;

&lt;p&gt;I don't know how it will work out. I'm just going to have to seize the day, every day.&lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2014-11-30:/blog/2014/11/30/easy-revealing/</id>
    <title type="html">Easy Revealing</title>
    <published>2014-11-30T22:34:09Z</published>
    <updated>2014-11-30T22:34:09Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2014/11/30/easy-revealing/"/>
    <content type="html">

&lt;p&gt;I have a confession to make: I like &lt;a href="http://revealapp.com"&gt;Reveal&lt;/a&gt;. It's such a great tool to discover why your UI doesn't appear as it should be. It's such a great way to get a decent look at the view hierarchy in your iOS app.&lt;/p&gt;

&lt;p&gt;Initially, loading Reveal required you to add the reveal framework to your project before running. While not a hassle, it was rather suboptimal because you had to remove it again before shipping the app.&lt;/p&gt;

&lt;p&gt;But when you run your project in the simulator, there's an easier way. Have it automatically start up the Reveal server, so that you don't have to connect manually, and don't have to pollute your project with a debugging lib. Why only in the Simulator? Well, the technique requires the dynamic loading of &lt;code&gt;libReveal.dylib&lt;/code&gt;. This is possible on your Mac but not on your iOS device. And the Simulator runs on your Mac, so we can use this trick to load the Reveal lib at runtime without prerequiring it in the project (to be fair, you can dynamically load libs on the device, but you'd still need to add them to your project).&lt;/p&gt;

&lt;p&gt;So let's do that. First on: some LLDB tricks.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2&gt;Making custom LLDB commands&lt;/h2&gt;

&lt;p&gt;You might not know this, but you can extend LLDB by loading Python scripts. In those scripts you can define functions which can be used directly when you're debugging. That's pretty handy! So we'll use this to create some shortcuts to load the&lt;/p&gt;

&lt;p&gt;So create a folder somewhere that can contain your LLDB scripts. I created a &lt;code&gt;lldb&lt;/code&gt; folder in my home folder, but you can place it anywhere you want.&lt;/p&gt;

&lt;p&gt;Then, create a &lt;code&gt;reveal.py&lt;/code&gt; in that folder, and give it the following contents:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-python highlight"&gt;&lt;span class="c"&gt;# require the lldb lib to interact with LLDB&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;lldb&lt;/span&gt;

&lt;span class="c"&gt;# this is called when the file is added to the script runtime&lt;/span&gt;
&lt;span class="c"&gt;# we'll invoke a lldb command that links the python functions to actual LLDB commands&lt;/span&gt;
&lt;span class="c"&gt;# in this case, we're adding reveal_start_sim and reveal_stop&lt;/span&gt;
&lt;span class="c"&gt;# note: the other functions in this file are no accessible from LLDB.&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__lldb_init_module&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HandleCommand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'command script add -f reveal.reveal_start_sim reveal_start_sim'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HandleCommand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'command script add -f reveal.reveal_stop reveal_stop'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# This is the main entry point. This will load the reveal lib and then send a notification so that it will start&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;reveal_start_sim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;internal_dict&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;"Installing reveal in the simulator"&lt;/span&gt;
  &lt;span class="n"&gt;reveal_load_sim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="n"&gt;reveal_start&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# Loads the libReveal.dylib from the Reveal app.&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;reveal_load_sim&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HandleCommand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'expr (void*)dlopen("/Applications/Reveal.app/Contents/SharedSupport/iOS-Libraries/libReveal.dylib", 0x2);'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c"&gt;# Sends a notification to the reveal server so that it actually starts&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;reveal_start&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HandleCommand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'expr [(NSNotificationCenter*)[NSNotificationCenter defaultCenter] postNotificationName:@"IBARevealRequestStart" object:nil];'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

  &lt;span class="c"&gt;# Sends a notification to the reveal server so that it stops (if you'd want that)&lt;/span&gt;
  &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;reveal_stop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
  &lt;span class="n"&gt;debugger&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HandleCommand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;'expr [(NSNotificationCenter*)[NSNotificationCenter defaultCenter] postNotificationName:@"IBARevealRequestStop" object:nil];'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There's nothing more to it. We expose two new commands &lt;code&gt;reveal_start_sim&lt;/code&gt; and &lt;code&gt;reveal_stop&lt;/code&gt;. Commands we can actually use during debugging.&lt;/p&gt;

&lt;p&gt;Let's try this. Fire up your favorite iOS project - be sure to select to run on the Simulator. Run the app. Now break the app by pressing &lt;code&gt;^âŒ˜Y&lt;/code&gt;. This will give you the &lt;code&gt;(lldb)&lt;/code&gt; prompt. Now load your python script by invoking the following command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;command script import ~/lldb/reveal.py
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will tell LLDB that we'd like the &lt;code&gt;reveal.py&lt;/code&gt; script loaded into LLDB. The module will be loaded and thanks to the init there, we've just added two commands to use. There won't be any feedback, but now you can try and load the reveal lib:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;reveal_start_sim
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will give you something like this:&lt;/p&gt;

&lt;p&gt;&lt;img class="center" src="http://cl.ly/image/062A1a230h35/Image%202014-12-11%20at%2012.29.05%20am.png" width="600"&gt;&lt;/p&gt;

&lt;p&gt;After that, hit &lt;code&gt;^âŒ˜Y&lt;/code&gt; to continue the app (or just type &lt;code&gt;continue&lt;/code&gt;). Now you can try to fire up the Reveal Client app, and connect to your app:&lt;/p&gt;

&lt;p&gt;&lt;img class="center" src="http://cl.ly/image/2M2m0j1u0p1O/Image%202014-12-11%20at%2012.25.57%20am.png" width="600"&gt;&lt;/p&gt;

&lt;p&gt;Success!&lt;/p&gt;

&lt;h2&gt;Loading the script by default&lt;/h2&gt;

&lt;p&gt;Now always having to load the python script is a bit cumbersome. Luckily for us, LLDB has a mechanism to do this by default. So we can always load our reveal script so that we can have it readily available when we need it.&lt;/p&gt;

&lt;p&gt;So how do you do this?&lt;/p&gt;

&lt;p&gt;It's pretty simple: make an &lt;code&gt;.lldbinit&lt;/code&gt; file in your home folder. This file is read by LLDB when it is started (thus: everytime you debug an app). As an aside: you can also make an &lt;code&gt;.lldbinit-Xcode&lt;/code&gt; which will only be read when debugging in Xcode.&lt;/p&gt;

&lt;p&gt;In this &lt;code&gt;.lldbinit&lt;/code&gt;, you can place any regular LLDB commands. In this case, we'll use this to import the python script as we did above. So the file basically looks like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;command script import ~/lldb/reveal.py
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Save the file, and now restart the debugger for your app. Try entering &lt;code&gt;reveal_start_sim&lt;/code&gt; again and you'll see that it works. No need to manually load the python file again.&lt;/p&gt;

&lt;h2&gt;Starting reveal at startup&lt;/h2&gt;

&lt;p&gt;Now wouldn't it be even better if we could have the Reveal server start by default? No need to break the app, run the command and continue. Xcode can do this for us, with a breakpoint.&lt;/p&gt;

&lt;p&gt;Go to your app delegate file (or any other class you'll know that runs early in your app lifecycle), and add a new breakpoint. Then edit the breakpoint:&lt;/p&gt;

&lt;p&gt;&lt;img class="center" src="http://cl.ly/image/0Q3m0Z1i0223/Image%202014-12-11%20at%2012.37.25%20am.png" width="600"&gt;&lt;/p&gt;

&lt;p&gt;Basically:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;add an action of type 'debugger command'. In the textfield below, enter &lt;code&gt;reveal_start_sim&lt;/code&gt; (which, thanks to the magic above, is present).&lt;/li&gt;
&lt;li&gt;tick on "automatically continue after evaluating actions"&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This breakpoint will be hit when you start your app but won't halt. It will execute the command specified, starting the Reveal server and then just continue running along.&lt;/p&gt;

&lt;p&gt;After you tried this, rerun your app. Switch back to Reveal and you'll see that it can connect to your app running in the Simulator. Great success!&lt;/p&gt;

&lt;h2&gt;Finally&lt;/h2&gt;

&lt;p&gt;You can now use this technique in every project. Either using the breakpoint approach for regular Reveal debugging, or just break the app, run the &lt;code&gt;start_reveal_sim&lt;/code&gt; command and continue for occasional debugging. Up to you.&lt;/p&gt;

&lt;p&gt;You can also use the techniques described about to extend LLDB to your own needs. You can leverage &lt;code&gt;.lldbinit&lt;/code&gt; by providing custom aliases or load external scripts. You can use those external scripts to do more complex debugging should you require to.&lt;/p&gt;

&lt;p&gt;For example, &lt;a href="https://github.com/facebook/chisel"&gt;Facebook's Chisel&lt;/a&gt; uses these techniques to extend LLDB with a load of commands (highly recommended).&lt;/p&gt;

&lt;p&gt;On a related note, it might be worthwhile to read up on LLDB techniques by reading &lt;a href="http://www.objc.io/issue-19/lldb-debugging.html"&gt;this article&lt;/a&gt; in objc.io's &lt;a href="http://www.objc.io/issue-19/"&gt;19th installment&lt;/a&gt; (which is all about debugging). Some neat tricks in there.&lt;/p&gt;

&lt;p&gt;And finally, thanks to Reveal for an awesome app. Xcode6's Debug View Hierarchy is interesting but more limited than Reveal (and it doesn't always yield the correct results). Reveal rocks.&lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2014-10-28:/blog/2014/10/28/hunting-for-change/</id>
    <title type="html">Hunting for change</title>
    <published>2014-10-28T22:24:28Z</published>
    <updated>2014-10-28T22:24:28Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2014/10/28/hunting-for-change/"/>
    <content type="html">

&lt;p&gt;&lt;em&gt;(This blogpost expands on a number of tweets I published this evening)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I've been looking for change all my life I think. Not actively. Or sometimes more active than at other moments. I've never been somebody who values status quo or who gets stuck in habits. I rarely get up at the time each morning, I'm not bothered when I get to lunch at 1pm instead of 12:30. I don't have to take the car to work each day, or I have no problem with skipping my daily train routine for another route or transportation option.&lt;/p&gt;

&lt;p&gt;Not sure where this comes from, but I'm kinda always on the lookout for new things. For example, I quite abruptly switched from .Net consultancy and programming to iOS development. This wasn't easy, you know. A whole new platform, a new language, a new way of doing things. But at the time I was given the opportunity to do this, and I took it with two hands. It was time for something new. Time to learn new things, time for change.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;The downside seems to be that my head is almost always full of ideas, things to think about or stuff that I want to do. The additional downside is that these ideas/things/stuff are very personal (and most of the time related to coding, to be honest). The hard part is that it's hard to apply the same virtuosity to other areas which might be able to use it. For example, I find it hard to put any time in improving our house, or even think about it. It's not that I don't want to (who doesn't want a nice house to live in?) but it feels like most of the time I cannot be bothered. A sort of apathy which I have for certain things but not for (a few) specific others.&lt;/p&gt;

&lt;p&gt;By the way, this also happens in conversations. I can genuinely start a conversion, but get "bored" in the middle of it. It's absolutely not intentional and it (most of the time) is not even the fault of the people I'm talking to. But it is entirely possible to enter a "looking for a fuck to give" state without even knowing it myself. And then the conversion ends, and then I'm left thinking: I could have asked that or that. But I didn't. It's not that I don't like the conversation. My mind just wanders off and then I'm fucked. (Told you I'm strange. Didn't I?)&lt;/p&gt;

&lt;p&gt;And so my head seems awful full. It's not easy to find peace and quiet on the inside. This tweet by &lt;a href="http://twitter.com/bluecrowbar"&gt;@bluecrowbar&lt;/a&gt; quite nailed it:&lt;/p&gt;

&lt;div class="embed tweet"&gt;
&lt;blockquote class="twitter-tweet" align="center" width="350"&gt;
&lt;p&gt;Relaxing makes me nervous.&lt;/p&gt;â€” Steven Vandeweghe (@bluecrowbar) &lt;a href="https://twitter.com/bluecrowbar/status/520630884769488896"&gt;October 10, 2014&lt;/a&gt;
&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;
&lt;/div&gt;

&lt;p&gt;I feel like that all the time. It's not like I'm actually always working. I can spend the whole night on the couch trying to get anything done, which doesn't work out except for browsing Facebook or Twitter, telling myself I'll be doing this or that in 5 minutes (ah yes, procrastination, my friend). But I just don't do relaxing very good. I hardly make time to go out for drinks. I never go see a movie. We don't have a TV in our house and while I can watch TV on my iPad I hardly ever do (except for occasionaly binge watching of some Netflix series). I've tried gaming too. Mostly can't be bothered apart from the occasional spikes. I've been meaning to brew some beer but found no way to make some time for it. The little bit of intentional relaxing can be - wait for it - coding. Not because I have to, but because I can. Try things out, learn new stuff. But don't put me on a couch with a beer to watch some telly: no sir. I tend to try to play a game of squash every week. That works, most of the time. I have to force myself to stop the thinking and focus on the game, but in busy times I found even that hard.&lt;/p&gt;

&lt;p&gt;There's just so many things I want to do or try or see. And people to meet, talk to, learn from. But then there's life which comes interfering with any plans you make trying to make that possible. So many dreams to chase, so many opportunities to twart those plans.&lt;/p&gt;

&lt;p&gt;So I've thought: maybe I should embrace life as it is. Just go along. Take it easy, just go to work, get it done, get back home and enjoy my wife and kids. Follow the flow. Do as &lt;a href="http://www.twitter.com/bmf"&gt;Mike Lee&lt;/a&gt; apparently did, get off the interwebs for a little while or at least cut back. Find your own tempo in the context of your family and friends.&lt;/p&gt;

&lt;p&gt;I'm afraid that won't work for me. So easily bored, so hungry to learn more (in my limited field of work, to be honest. I haven't found the need to learn music, for example). So trying to do my job like it should. So trying to be likeable for who I am. Wanting to share the things I learn with other people (blogposts, teaching, sharing with coworkers) to make the world a better place even if it's only that little bit.&lt;/p&gt;

&lt;p&gt;So yeah, always looking for change. Stay hungry, stay foolish, I guess. But sometimes, you're full. And the hard part is when to stop in time to clear your metaphorical stomach. I usually fail at that.&lt;/p&gt;

&lt;p&gt;Now if you'll excuse me, I have a new version of OSX to install because this current one is getting stale.&lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2014-09-23:/blog/2014/09/23/explicitly-implemented-protocols/</id>
    <title type="html">Explicitly implemented protocols</title>
    <published>2014-09-23T14:07:27Z</published>
    <updated>2014-09-23T14:07:27Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2014/09/23/explicitly-implemented-protocols/"/>
    <content type="html">

&lt;p&gt;While traveling home from NSSpain yesterday, I got an idea for a new app. Nothing groundbreaking, and more on that later, but it required the use of health kit. I also decided to write this one in Swift, for fun and profit but mostly for fun (and perhaps also because practice makes perfect).&lt;/p&gt;

&lt;!-- more --&gt;

&lt;h2&gt;The problem&lt;/h2&gt;

&lt;p&gt;I soon stumbled on the "you need to authorize HealthKit access" mess. It's even more an issue in HealthKit than with the other APIs since you have to ask permission to read and/or write &lt;em&gt;for each type&lt;/em&gt; of object you want to access.&lt;/p&gt;

&lt;p&gt;So I decided to write a sort of proxy class that would handle the requesting, shielding off that hassle (since I would be needing access in several parts of the code). A pattern I've used for this kind of APIs before is that you have the class with the public API, which have an "access" call (for example). That call takes a block with one parameter: the "priviledged" part of the API. When the block is called, you can be sure to have the proper permissions making your code simpler and more obvious. Something like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-swift highlight"&gt;&lt;span class="kd"&gt;protocol&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessorReader&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;var&lt;/span&gt; &lt;span class="nv"&gt;accessor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;neededObjectType&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;accessor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessorReader&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;Void&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt;
    &lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now I've made APIs like these before in C#, because I think it's an interesting and useful pattern. You're able to restrict access to certain parts of the API depending on the context the user of your API needs. In the example above, the &lt;code&gt;read&lt;/code&gt; method only provides access to read operations. We could have a &lt;code&gt;write&lt;/code&gt; method that only provides access to write operations (or even a &lt;code&gt;readwrite&lt;/code&gt; which does both).&lt;/p&gt;

&lt;p&gt;And the way I'd do this in C# is using private interface implementations. This is a technique which allows you to  specify that an implementation of an interface method is only usable if you use the class which implements it &lt;em&gt;as an interface&lt;/em&gt;. For example, given this declarations:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp highlight"&gt;&lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;IHealthKitAccessorReader&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="n"&gt;Object&lt;/span&gt; &lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Object&lt;/span&gt; &lt;span class="n"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;  

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HealthKitAccessor&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;IHealthKitAccessorReader&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;private&lt;/span&gt; &lt;span class="n"&gt;HKHealthKitStore&lt;/span&gt; &lt;span class="n"&gt;store&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="p"&gt;...;&lt;/span&gt;

  &lt;span class="k"&gt;public&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Action&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;IHealthKitAccessor&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nf"&gt;makeSureYouHaveAccess&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="nf"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="n"&gt;Object&lt;/span&gt; &lt;span class="n"&gt;IHealthKitAccessorReader&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Object&lt;/span&gt; &lt;span class="n"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;somethingSomething&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;you can do:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp highlight"&gt;&lt;span class="n"&gt;var&lt;/span&gt; &lt;span class="n"&gt;accessor&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;HealthKitAccessor&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;accessor&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;read&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt; &lt;span class="p"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="p"&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;but you can't do:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp highlight"&gt;&lt;span class="n"&gt;var&lt;/span&gt; &lt;span class="n"&gt;accessor&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;HealthKitAccessor&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;accessor&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;even though &lt;code&gt;HealthKitAccessor&lt;/code&gt; implements &lt;code&gt;IHealthKitAccessorReader&lt;/code&gt;. This is because we explictly implemented the interface method, and so it's only available if we approach accessor as an instance of &lt;code&gt;IHealthKitAccessorReader&lt;/code&gt;. So technically, you can do this:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp highlight"&gt;&lt;span class="n"&gt;var&lt;/span&gt; &lt;span class="n"&gt;accessor&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nf"&gt;HealthKitAccessor&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;var&lt;/span&gt; &lt;span class="n"&gt;reader&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="n"&gt;accessor&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;IHealthKitAccessorReader&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;which will work, even though it's not the intention of the API.&lt;/p&gt;

&lt;p&gt;I've found this technique pretty useful in the past to have a class implement an API but shield direct access to it without using the specialized calls. The interface calls do not show up in intellisense/autocompletion when using the class, so it's pretty obvious in use.&lt;/p&gt;

&lt;p&gt;And maybe this wasn't clear, but you can choose which of the interface methods to implement implicitly or explictly. So some methods could be available on the class, some couldn't. Also, this way you can have more than one method of the same name if more than one interface implements those methods:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-csharp highlight"&gt;&lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;IFirstLine&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Halp&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;  

&lt;span class="k"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;ISecondLine&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Halp&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Support&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;IFirstLine&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ISecondLine&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;Halp&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// default to first line, this implements IFirstLine help, and exposes Halp on Support.
&lt;/span&gt;  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="n"&gt;ISecondLine&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;Halp&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// second line
&lt;/span&gt;  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now in Swift (and this ends the C# interlude), this isn't possible. Having the same structure like before but in Swift gives us this:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-swift highlight"&gt;&lt;span class="kd"&gt;protocol&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessorReader&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;  

&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessor&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessorReader&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="nv"&gt;store&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HKHealthKitStore&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nf"&gt;read&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessorReader&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;Void&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nf"&gt;makeSureYouHaveAccess&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="nf"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;somethingSomething&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;But this allows us to call both &lt;code&gt;read&lt;/code&gt; and &lt;code&gt;someReadOperation&lt;/code&gt; on any instance of the class, which is not what we want:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-swift highlight"&gt;&lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="nv"&gt;accessor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessor&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;accessor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;Void&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt;
    &lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;// but this also works&lt;/span&gt;
&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;The fix&lt;/h2&gt;

&lt;p&gt;This does not mean we cannot use this pattern in Swift. We just need an inner proxy struct that implements the methods of the protocol:&lt;/p&gt;

&lt;pre&gt;&lt;code class="language-swift highlight"&gt;&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessor&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="nv"&gt;store&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HKHealthKitStore&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;...&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

  &lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nf"&gt;read&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessorReader&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;Void&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nf"&gt;makeSureYouHaveAccess&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="nf"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;Reader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;self&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;

  &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="kd"&gt;struct&lt;/span&gt; &lt;span class="kt"&gt;Reader&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessorReader&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;let&lt;/span&gt; &lt;span class="nv"&gt;accessor&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessor&lt;/span&gt;

    &lt;span class="nf"&gt;init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;accessor&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;HealthKitAccessor&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="k"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;accessor&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;accessor&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="kd"&gt;func&lt;/span&gt; &lt;span class="nf"&gt;someReadOperation&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;someValue&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;AnyObject&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;accessor&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nf"&gt;somethingSomething&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
  &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is not bad, of course. The code is a bit less obvious because you need to have this inner class (which might implement more than one protocol, of course). And in the implementation of that inner class you always need to deference the original object first before using it. But that's just that. In effect you're moving the gist of your implementation to the inner class instead of in the class itself. When writing more complex APIs (like fluent APIs), this might become a bit cumbersome. But again, that's just than and mostly a minor inconvenience. In a way the code is a little more correct that using the explicitly implemented interface, but I've found in the past that being able to use the root class directly is more clean codewise anyway. So it's a bit of a tradeoff between the-academic-way-to-do-it and code clarity.&lt;/p&gt;

&lt;h2&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;I think that explictly implemented protocol methods would be a valuable addition to Swift. I think they'd be handy (the same for abstract classes, but that's another discussion) for the points given above. The benefit of being able to use all internals of the class directly without dereferencing the original object makes the implementation more clear and there's no need for an internal proxy class. While the pattern is possible to use in Swift is required a bit more code and thus maintenance when changing the API in the future. But I guess that's a reasonable price to pay (until they add explicitly implemented protocol methods).&lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2014-09-21:/blog/2014/09/21/nsspain-2014/</id>
    <title type="html">NSSpain 2014</title>
    <published>2014-09-21T06:37:23Z</published>
    <updated>2014-09-21T06:37:23Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2014/09/21/nsspain-2014/"/>
    <content type="html">

&lt;p&gt;So I did manage to go to NSSpain this year. Having missed it last year, I had vowed to go this year. But intentions don't always work out in the end, so it was a really last minute decision to actually go (props for my team at &lt;a href="http://icapps.com"&gt;iCapps&lt;/a&gt; to deliver awesome results so that I actually &lt;em&gt;could&lt;/em&gt; go - I am proud of you guys and girls!). Also, a &lt;em&gt;very big thank you&lt;/em&gt; to &lt;a href="http://twitter.com/lascorbe"&gt;Luis&lt;/a&gt; for helping me find a way to LogroÃ±o, which proved harder than expected (booking everything last minute doesn't help, of course).&lt;/p&gt;

&lt;p&gt;I'm very happy to have actually attended. The suddenly changed &lt;a href="%7B%%20post_url%202014-09-19-goodbye%20%%7D"&gt;circumstances&lt;/a&gt; before I left surely had an impact on my expierence. My thoughts and feelings were more at home than in LogroÃ±o, but I tried to make the best of it. Thought about "going back" several times, but I'm happy to have stayed. ;)&lt;/p&gt;

&lt;p&gt;Now, enough with the emotionalism (is that even a word?), how was NSSpain?&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;It was so good. First of all, I really like LogroÃ±o. It's not the easiest city to travel to, but once you get there: it's a very nice and friendly city. And a cheap city, too. A three course lunch for 9 euros: try to beat that (of course, it's no haute cuisine, but the portions are usually more than big enough). Also, as capital of the Rioja province, they virtually give you a wine for free. And the wine is good, too. So, yeah, LogroÃ±o is a great place to stay. Nice atmosphere, and a clean and friendly city. You should visit it (maybe next year's NSSpain?)&lt;/p&gt;

&lt;p&gt;The conference itself was very good too. The announced speakers and their topics were very appealing (the most part of why I actually wanted to go), and most of them delivered. It was a good combination of topics. Some were technical, some were about more human things and how we interact. I especially loved the session by &lt;a href="http://twitter.com/humorthatworks"&gt;Andrew Tarvin&lt;/a&gt; about progamming/humans/humour. It was fun and interesting at the same time (ain't we lucky!). Also, I liked the various sessions about testing and code quality (those by &lt;a href="http://twitter.com/secboffin"&gt;Graham Lee&lt;/a&gt; and &lt;a href="https://twitter.com/viteinfinite"&gt;Simone Civetta&lt;/a&gt; were particularly interesting to me). &lt;a href="http://twitter.com/mikeash"&gt;Mike Ash&lt;/a&gt;'s talk was insanely technical (yay pointers in Swift) but so, so good. The talk about scale by &lt;a href="http://twitter.com/micheletitolo"&gt;Michele Titolo&lt;/a&gt; certainly resonated with me (not specifically for the users/hardware scale, but for part about the team scale). &lt;a href="http://twitter.com/davidronnqvist"&gt;David RÃ¶nnqvist&lt;/a&gt;'s Scenekit talk was insanely amazing on the visuals (best "slides" ever). He made SceneKit look so simple (and perhaps it is, certainly something to check out). And props to &lt;a href="http://twitter.com/mattjgalloway"&gt;Matt Galloway&lt;/a&gt; for going on stage for the Swift Q/A, handling our barrage of questions. No real way to prepare other than having 5 years of Swift development experience. The other talks were equally as good mostly. The quality was very good all in all, but that was to be expected with this kind-of-stellar lineup. The only real dissappointing talk was the one by &lt;a href="http://twitter.com/soffes"&gt;Sam Soffes&lt;/a&gt;. Maybe it were my expectations, not sure, but there was nothing to take away from this other that he loves &lt;code&gt;NSBundle&lt;/code&gt; and &lt;code&gt;UICollectionView&lt;/code&gt;. A more specific, deeper dive into one feature would have been better, I think.&lt;/p&gt;

&lt;p&gt;Apart from the content, the atmosphere was more relaxed than at other conferences. We hardly started on time, the schedule was interpreted loosy. Some arrangements were communicated "last minute". But that was quite okay. I was never bothered by it. Perhaps that's the Spanish influence on things.&lt;/p&gt;

&lt;p&gt;Another part of conferences is meeting people. This is simple and hard at the same time, because it requires actual human interaction with human beings you don't know. Quite a feat for geeks like us. At NSSpain it was even harder than other conferences I've been to, because if the high number of Spanish natives. So connecting to them isn't that simple. Nevertheless, I met a lot of new people and caught up with a few others. I totally appreciated &lt;a href="http://www.twitter.com/Daniel1of1"&gt;Daniel&lt;/a&gt; coming to thank me in person for buying a Hero ticket for &lt;a href="http://cmdrconf.com"&gt;Cmd-R Conf&lt;/a&gt;. It was fun to finally say hi to &lt;a href="http://twitter.com/orta"&gt;Orta&lt;/a&gt; in the flesh. He's as energetic in real life has he feels like on twitter. It was nice to see &lt;a href="http://twitter.com/StuffMC"&gt;StuffMC&lt;/a&gt;, that jack of all trades. It was fun to talk with a few of the speakers (after all, they're humans too -- on the other hand, you need to find one way to make a connection). And, oh, I hadn't expected to meet fellow Belgians on this conf, but there were five of us. The pitfall of which is that you automatically get attracted to each other -- at least that what happens for me -- so mingling with strangers becomes more difficult. I don't avoid my fellow countrymen, but I intentionally go find new/other people too.&lt;/p&gt;

&lt;p&gt;And oh yeah: I spoke at a conference. *cheers* I had previously expressed interest in doing a lightning talk but hadn't given it extra thought because I never got confirmation (I also didn't ask for it, so there's nobody to blame). But when Luis approached me the first day with "Will you do a lightning talk?" I was a bit dumbfounded at first, but said yes nevertheless. I thought I could think of something. And so I did. Lightning talks are only five minutes, so I dismissed "something technical". I felt 5 mins were too short convey something technical towards the audience. And since we use GIFs (a lot) in our communication at work, I decided to talk about that. And it wasn't bad it seems, since I got quite a bit positive feedback on it. And making the talk was a good way to get rid of some of the &lt;a href="%7B%%20post_url%202014-09-19-goodbye%20%%7D"&gt;dark thoughts in my head&lt;/a&gt;. Afterwards I thought there was enough to say make this into a full 30 min talk, so I might just do that.&lt;/p&gt;

&lt;p&gt;Also: there were a lot more people there than I had expected! I assumed it would be a pretty small conference, but there were 215 attendees present (up from about a hundred last year). They're going to cap at 200 next year, because you could feel this was slightly above capacity.&lt;/p&gt;

&lt;p&gt;Chances are high I'll be back next year. I had a very enjoyable time, learned a lot of stuff, was in great company. Thanks to &lt;a href="http://twitter.com/lascorbe"&gt;Luis&lt;/a&gt; and &lt;a href="http://twitter.com/borjareinares"&gt;Borja&lt;/a&gt; for organising. Great job, guys.&lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2014-09-19:/blog/2014/09/19/goodbye/</id>
    <title type="html">Goodbye</title>
    <published>2014-09-19T03:38:12Z</published>
    <updated>2014-09-19T03:38:12Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2014/09/19/goodbye/"/>
    <content type="html">

&lt;p&gt;&lt;em&gt;This post is somewhat a diversion from what I usually post, but recent events have had such profound impact on how I feel that I feel obliged (to myself) to write about this. (Unfortunately, my English is not proficient enough to convey all my thoughts and feelings, but I'm giving it a shot anyway).&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I want to say goodbye to a friend. A dear friend. A best friend.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;Tuesday evening we got the news that &lt;a href="http://twitter.com/sjarelwan"&gt;Bert&lt;/a&gt; had deceased. Bert was a long time friend (I've known him for about 15 years), and the godfather of my youngest daughter. He was traveling in India as a host to a party of about 6 people.  This was the first time he did this (through an organisation called &lt;a href="http://joker.be/en"&gt;Joker&lt;/a&gt;. He had looked forward to this tour, preparing for it all summer, looking up information, booking hotels, trips and events for his group.
This was a key property of Bert. When he did something, he always went full out (which also had its annoying side effects, to be honest). He could really put himself behind the things he was doing, and he always did them well. The tour in India is a good example, but this was also the case when we were both active in &lt;a href="http://www.chiro.be/english"&gt;Chiro&lt;/a&gt; (a local youth movement in Belgium). We spent several years together there, and the click between us was quite immediate. We shared the same kind of humour, and our greatest passing in that time was Chiro. We organised training &amp;amp; courses for Chiro together (education for people in leadership positions), we created new games and activities, and made sure they were executed well. A lot of nights were spent together having fun over beers, we played boardgames, we sang, but we also had deep conversations about anything possible. It was a lot of fun and Bert was an integral part of this. Together with &lt;a href="http://twitter.com/spiffman"&gt;Jeroen&lt;/a&gt; we were known as "De Sjarels" amongst our friends. Mostly because the three of us were famous for dicking around whenever possible. (I'm not sure how to convey the word "Sjarel" - which actually is Flemish slang - but "Banter Boy" covers it, I think). This name stuck, and to this date we were still "De 3 Sjarels". We might be a bit older, but the fun was still there when the three of us were together.&lt;/p&gt;

&lt;p&gt;But then our time at Chiro ended and our contact became less frequent. I can't say that I really missed Bert, but lives change and our ways parted. At least, for a little while. I am fortunate to have 4 children, and Bert was high on the list of potential godfathers. And we were most delighted he accepted the godfathership for our youngest daughter Mitte 4 years ago. Becoming godfather/godmother of a child created a sort of family bond, and our contact flared up again. The good times of yonder were back, albeit at a different pace. I loved having Bert present at parties and birthdays. We met up more, and it felt good.&lt;/p&gt;

&lt;p&gt;And then he moved to our street, which we thought was a surprising move (for him, moving from the city to a local village), but in hindsight it proved a good idea. It was great having Bert as a neighbour. Our lives both were busy enough that we did not spent every night at one or another place, but having a best friend as a neighbour certainly is a blessing.&lt;/p&gt;

&lt;p&gt;&lt;a href="http://www.flickr.com/photos/inferis/15023080730"&gt;&lt;img src="https://farm6.staticflickr.com/5559/15023080730_aa52fb0510.jpg" width="500" height="333"&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;\&lt;/em&gt;sighs**&lt;/p&gt;

&lt;p&gt;So it pains me a lot to lose you, Bert. I have a load of awesome memories of you and the things we did together. I'm sure we made a difference for a lot of young people, something I hold dearly in my heart. My daughter is still little but I'm sure she loved you in her own way, and it was obvious you did love her a lot, too. She's never going to expierence your passion and fire, and I pity her for that. We will never again be able to drink a glass of whisky (of which you were an avid lover) or a fine beer (like Quadruple La Trappe, your favorite) together. Our next gathering of god-mothers and -fathers will be awkward without you present. You'll be missed by everyone of us.&lt;/p&gt;

&lt;p&gt;I have to face it: you'll never be back. But you'll also never be forgotten. So long, my best friend. Until we meet again.&lt;/p&gt;

</content>
  </entry>
  <entry>
    <id>tag:blog.inferis.org,2014-09-14:/blog/2014/09/14/cocoapod-all-the-things/</id>
    <title type="html">Cocoapod All The Things</title>
    <published>2014-09-14T11:19:57Z</published>
    <updated>2014-09-14T11:19:57Z</updated>
    <link rel="alternate" href="http://blog.inferis.org/blog/2014/09/14/cocoapod-all-the-things/"/>
    <content type="html">

&lt;p&gt;So, am I the only one who manages to get sidetracked a lot when working on (personal) projects?&lt;/p&gt;

&lt;p&gt;For example, I have a few generic components written for various projects. In the past I would just add a &lt;code&gt;vendor&lt;/code&gt; folder to my project, put the component there and be done with it.&lt;/p&gt;

&lt;p&gt;But I've become to like CocoaPods to much that I cannot get myself to use this simple approach anymore. The CocoaPods approach makes using external libs so clean that it feels dirty not to (unless there's no other option).&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;But then the problem is that when I have a "new" generic component for a new project, I need to turn it into a CocoaPod first. This means splitting of the code, making a podspec, testing the podspec and then integration it into your project. Sure, not a lot of work, but it adds to the 'total drag'. Now I know I only inflict this on myself, but still. :)&lt;/p&gt;

&lt;p&gt;It also doesn't help me thinking: "wait, somebody else might find this handy" and I go off by making another repo on github, pushing the code there, adding a README and LICENSE file, add/update the CocoaPods specs repo with the new/updated podspec and issue a pull request for the update to be merge into the main repository. I could be using a simple development or local pod, but the first keeps the code local to the repo, and the second one, well, I don't have a local CocoaPods repo set up.&lt;/p&gt;

&lt;p&gt;So, nothing big, but these things feel like a hassle sometimes even though I'm happy to share my code with other. Sometimes I just wish I could force myself back to the vendor approach, but I guess I'm tainted forever.  &lt;/p&gt;

</content>
  </entry>
</feed>

